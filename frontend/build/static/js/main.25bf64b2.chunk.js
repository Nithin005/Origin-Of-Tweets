(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{195:function(e,t,n){},384:function(e,t,n){},385:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(17),s=n.n(c),i=(n(195),n.p,n(73),n(12));function o(e){return new URLSearchParams(e).toString()}function u(e){var t,n="",r=Object(i.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;a.toString().split(" ").length>1?n+='"'.concat(a,'"'):n+="".concat(a),n+=" "}}catch(c){r.e(c)}finally{r.f()}return n}var l=n(9),d=n.n(l),b=n(5),j=n(2),p=n(16),h=n(93),f=n(60),O=n.n(f),g={};function m(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"reddit",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"http://127.0.0.1:5002/search";O.a.get("engine")&&!e||O.a.set("engine",t),O.a.set("searxURL",n),g={engine:O.a.get("engine"),searxURL:O.a.get("searxURL")},e&&window.location.reload()}m(),console.log(g);var x,v=g,y=n(57),w=n(67),k=(n(104),n(94)),S=n(1),P=v.searxURL,L=w.a.div(x||(x=Object(h.a)(["\n\ntable {\n  border-spacing: 0;\n  border: 1px solid black;\n\n  tr {\n    :last-child {\n      td {\n        border-bottom: 0;\n      }\n    }\n  }\n\n  th,\n  td {\n    margin: 0;\n    padding: 0.5rem;\n    border-bottom: 1px solid black;\n    border-right: 1px solid black;\n\n    :last-child {\n      border-right: 0;\n    }\n  }\n}\n"])));function T(e){return C.apply(this,arguments)}function C(){return C=Object(p.a)(d.a.mark((function e(t){var n,r,a=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{referrer:"",mode:"cors",method:"GET"},e.next=3,fetch(t,n);case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}function R(e){return E.apply(this,arguments)}function E(){return(E=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(P+"?"+o(t),null);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return B.apply(this,arguments)}function B(){return(B=Object(p.a)(d.a.mark((function e(t){var n,r,a,c,s,l,j;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t);case 2:n=e.sent,r=n.results,console.log(r),a=Object(i.a)(r.entries());try{for(a.s();!(c=a.n()).done;)s=Object(b.a)(c.value,2),s[0],l=s[1],j="/search?"+o({q:u(l.keywords),engines:t.engines}),l.similar=j,j="/user?"+o({q:l.author,engines:l.engine}),l.user=j}catch(d){a.e(d)}finally{a.f()}return console.log(r),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return q.apply(this,arguments)}function q(){return(q=Object(p.a)(d.a.mark((function e(t){var n,r,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(Object(j.a)({stream:1,engines:v.engine},t));case 2:n=e.sent,r=Object(i.a)(n);try{for(r.s();!(a=r.n()).done;)(c=a.value).user=Object(S.jsx)("a",{href:c.user,children:"user"}),c.similar=Object(S.jsx)("a",{href:c.similar,children:"similar"})}catch(s){r.e(s)}finally{r.f()}return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=function(){var e=Object(r.useState)([]),t=Object(b.a)(e,2),n=t[0],c=t[1],s=function(e){var t={engines:e.get("engines")||v.engine,stream:1};return Object(j.a)(Object(j.a)({},t),e)}(new URLSearchParams(window.location.search)),o=["title","content","publishedDate","url","metric","veracity","similar","user"],u=a.a.useMemo((function(){return function(e){var t,n=[],r=Object(i.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push({Header:a,accessor:a.replace(" ","")})}}catch(c){r.e(c)}finally{r.f()}return n}(o)}),[]),l=a.a.useMemo((function(){return n}),[n]);a.a.useEffect(Object(p.a)(d.a.mark((function e(){var t,n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(s);case 2:t=e.sent,n=Object(i.a)(t);try{for(n.s();!(r=n.n()).done;)(a=r.value).user=Object(S.jsx)("a",{href:a.user,children:"user"}),a.similar=Object(S.jsx)("a",{href:a.similar,children:"similar"})}catch(o){n.e(o)}finally{n.f()}c(t);case 6:case"end":return e.stop()}}),e)}))),[]),console.log(u),console.log(l);var h=Object(y.useTable)({columns:u,data:l}),f=h.getTableProps,O=h.getTableBodyProps,g=h.headerGroups,m=h.rows,x=h.prepareRow;return Object(S.jsx)(L,{children:Object(S.jsxs)(k.a,Object(j.a)(Object(j.a)({striped:!0,bordered:!0,hover:!0,size:"sm",variant:"dark"},f()),{},{children:[Object(S.jsx)("thead",{children:g.map((function(e){return Object(S.jsx)("tr",Object(j.a)(Object(j.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(S.jsx)("th",Object(j.a)(Object(j.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(S.jsx)("tbody",Object(j.a)(Object(j.a)({},O()),{},{children:m.map((function(e,t){return x(e),Object(S.jsx)("tr",Object(j.a)(Object(j.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(S.jsx)("td",Object(j.a)(Object(j.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))})},D=n(189),N=n(7),F=n(95),M=n.n(F);function I(e){return z.apply(this,arguments)}function z(){return z=Object(p.a)(d.a.mark((function e(t){var n,r,a=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{referrer:"",mode:"cors",method:"GET"},e.next=3,fetch(t,n);case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),z.apply(this,arguments)}function J(e){return A.apply(this,arguments)}function A(){return(A=Object(p.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v.searxURL+"/user?"+o(t),console.log(n),e.next=4,I(n);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K,Q=function(){var e=function(e){var t={q:e.get("q"),engines:e.get("engines")||v.engine};return Object(j.a)(Object(j.a)({},t),e)}(new URLSearchParams(window.location.search)),t=Object(r.useState)({}),n=Object(b.a)(t,2),a=n[0],c=n[1];return Object(r.useEffect)(Object(p.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e);case 2:n=t.sent,c(n);case 4:case"end":return t.stop()}}),t)}))),[]),Object(S.jsx)(M.a,{src:a})},V=v.searxURL,W=w.a.div(K||(K=Object(h.a)(["\n\ntable {\n  border-spacing: 0;\n  border: 1px solid black;\n\n  tr {\n    :last-child {\n      td {\n        border-bottom: 0;\n      }\n    }\n  }\n\n  th,\n  td {\n    margin: 0;\n    padding: 0.5rem;\n    border-bottom: 1px solid black;\n    border-right: 1px solid black;\n\n    :last-child {\n      border-right: 0;\n    }\n  }\n}\n"])));function X(e){return Y.apply(this,arguments)}function Y(){return Y=Object(p.a)(d.a.mark((function e(t){var n,r,a=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{referrer:"",mode:"cors",method:"GET"},e.next=3,fetch(t,n);case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),Y.apply(this,arguments)}function Z(e){return $.apply(this,arguments)}function $(){return($=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(V+"?"+o(t),null);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(p.a)(d.a.mark((function e(t){var n,r,a,c,s,l,j;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(t);case 2:n=e.sent,r=n.results,console.log(r),a=Object(i.a)(r.entries());try{for(a.s();!(c=a.n()).done;)s=Object(b.a)(c.value,2),s[0],l=s[1],j=window.location.pathname+"?"+o({q:u(l.keywords),engines:t.engines}),l.similar=j,j="/user?"+o({q:l.author,engines:l.engine}),l.user=j}catch(d){a.e(d)}finally{a.f()}return console.log(r),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var te=function(){var e=Object(r.useState)([]),t=Object(b.a)(e,2),n=t[0],c=t[1],s=function(e){var t={q:e.get("q"),engines:v.engine};return Object(j.a)(Object(j.a)({},t),e)}(new URLSearchParams(window.location.search)),o=["title","content","publishedDate","url","metric","veracity","similar","user"],u=a.a.useMemo((function(){return function(e){var t,n=[],r=Object(i.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,c={Header:a,accessor:a.replace(" ","")};"metric"==a&&(c.sortType="basic"),n.push(c)}}catch(s){r.e(s)}finally{r.f()}return n}(o)}),[]),l=a.a.useMemo((function(){return n}),[n]);a.a.useEffect(Object(p.a)(d.a.mark((function e(){var t,n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(s);case 2:t=e.sent,n=Object(i.a)(t);try{for(n.s();!(r=n.n()).done;)(a=r.value).user=Object(S.jsx)("a",{href:a.user,children:"user"}),a.similar=Object(S.jsx)("a",{href:a.similar,children:"similar"}),a.metric=(a.metric/Math.pow(10,6)).toFixed(2)}catch(o){n.e(o)}finally{n.f()}c(t);case 6:case"end":return e.stop()}}),e)}))),[]),console.log(u),console.log(l);var h=Object(y.useTable)({columns:u,data:l},y.useSortBy),f=h.getTableProps,O=h.getTableBodyProps,g=h.headerGroups,m=h.rows,x=h.prepareRow;return Object(S.jsx)(W,{children:Object(S.jsxs)(k.a,Object(j.a)(Object(j.a)({striped:!0,bordered:!0,hover:!0,size:"sm",variant:"dark"},f()),{},{children:[Object(S.jsx)("thead",{children:g.map((function(e){return Object(S.jsx)("tr",Object(j.a)(Object(j.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(S.jsxs)("th",Object(j.a)(Object(j.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[Object(S.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""}),e.render("Header")]}))}))}))}))}),Object(S.jsx)("tbody",Object(j.a)(Object(j.a)({},O()),{},{children:m.map((function(e,t){return x(e),Object(S.jsx)("tr",Object(j.a)(Object(j.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(S.jsx)("td",Object(j.a)(Object(j.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))})},ne=n(72),re=n(184),ae=n(395),ce=n(393),se=n(394),ie=n(188),oe=n(187);n(386),n(203);function ue(e,t){var n=e.target.text;t(n),m(!0,n)}function le(e,t){console.log(e);var n=window.location.origin+"/search?"+o({q:t});window.location.replace(n)}var de=function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(v.engine),s=Object(b.a)(c,2),i=s[0],o=s[1];return Object(S.jsx)(ne.a,{bg:"dark",variant:"dark",children:Object(S.jsxs)(re.a,{children:[Object(S.jsx)(ne.a.Brand,{href:"/",children:"Origin Finder"}),Object(S.jsx)(ne.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(S.jsxs)(ne.a.Collapse,{id:"basic-navbar-nav",children:[Object(S.jsxs)(ae.a,{className:"me-auto",children:[Object(S.jsx)(ae.a.Link,{href:"/",children:"Home"}),Object(S.jsx)(ae.a.Link,{href:"graph",children:"Graph"}),Object(S.jsxs)(ce.a,{title:i,id:"basic-nav-dropdown",children:[Object(S.jsx)(ce.a.Item,{onClick:function(e){ue(e,o)},children:"reddit"}),Object(S.jsx)(ce.a.Item,{onClick:function(e){ue(e,o)},children:"twitter"}),Object(S.jsx)(ce.a.Divider,{}),Object(S.jsx)(ce.a.Item,{children:"extra"})]})]}),Object(S.jsxs)(se.a,{className:"d-flex",onSubmit:function(e){le(e,n),e.preventDefault()},children:[Object(S.jsx)(ie.a,{type:"search",placeholder:"Search",className:"me-2","aria-label":"Search",onChange:function(e){a(e.target.value),console.log(e.target.value)},submit:function(e){le(e,n),e.preventDefault()}}),Object(S.jsx)(oe.a,{id:"navbar-submit",variant:"outline-success",onClick:function(e){le(e,n)},children:"Search"})]})]})]})})},be=n(47),je=n(126),pe=n.n(je),he={x:0,y:0},fe="smoothstep",Oe=[{id:"1",type:"input",data:{label:"input"},position:he},{id:"2",data:{label:"node 2"},position:he},{id:"2a",data:{label:"node 2a"},position:he},{id:"2b",data:{label:"node 2b"},position:he},{id:"2c",data:{label:"node 2c"},position:he},{id:"2d",data:{label:"node 2d"},position:he},{id:"3",data:{label:"node 3"},position:he},{id:"4",data:{label:"node 4"},position:he},{id:"5",data:{label:"node 5"},position:he},{id:"6",type:"output",data:{label:"output"},position:he},{id:"7",type:"output",data:{label:"output"},position:he},{id:"e12",source:"1",target:"2",type:fe,animated:!0},{id:"e13",source:"1",target:"3",type:fe,animated:!0},{id:"e22a",source:"2",target:"2a",type:fe,animated:!0},{id:"e22b",source:"2",target:"2b",type:fe,animated:!0},{id:"e22c",source:"2",target:"2c",type:fe,animated:!0},{id:"e2c2d",source:"2c",target:"2d",type:fe,animated:!0},{id:"e45",source:"4",target:"5",type:fe,animated:!0},{id:"e56",source:"5",target:"6",type:fe,animated:!0},{id:"e57",source:"5",target:"7",type:fe,animated:!0}],ge=(n(384),new pe.a.graphlib.Graph);ge.setDefaultEdgeLabel((function(){return{}}));var me=172;function xe(e,t){var n={},r={x:0,y:0},a=[];a.push({id:t,data:{label:t},position:r});var c,s=Object(i.a)(e);try{for(s.s();!(c=s.n()).done;){var o=c.value,u=o.timestamp,l={id:u,data:{label:o.author},position:r};a.push(l);var d={id:"e"+u,source:u,target:t,type:"edgeType",animated:!0};a.push(d),n[o.timestamp]=o}}catch(b){s.e(b)}finally{s.f()}return console.log(a),[a,n]}var ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"TB",n="LR"===t;return ge.setGraph({rankdir:t}),e.forEach((function(e){Object(be.d)(e)?ge.setNode(e.id,{width:me,height:36}):ge.setEdge(e.source,e.target)})),pe.a.layout(ge),e.map((function(e){if(Object(be.d)(e)){var t=ge.node(e.id);e.targetPosition=n?"left":"top",e.sourcePosition=n?"right":"bottom",console.log(e),e.position={x:t.x-86+Math.random()/1e3,y:t.y-18}}return e}))},ye=ve(Oe),we=function(){var e=Object(r.useState)(ye),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)({}),s=Object(b.a)(c,2),i=s[0],o=s[1],u=Object(r.useState)({text:"data will show here"}),l=Object(b.a)(u,2),h=l[0],f=l[1],O=Object(r.useCallback)((function(e){var t=ve(n,e);a(t)}),[n]);return Object(r.useEffect)(Object(p.a)(d.a.mark((function e(){var t,n,r,c,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U({stream:1});case 2:t=e.sent,console.log(t),n=xe(t,v.engine),r=Object(b.a)(n,2),c=r[0],s=r[1],i=ve(c,"TB"),a(i),o(s);case 8:case"end":return e.stop()}}),e)}))),[]),Object(S.jsxs)("div",{className:"graph-row",children:[Object(S.jsx)("div",{className:"layoutflow graph-left",style:{height:"500"},children:Object(S.jsxs)(be.a,{children:[Object(S.jsx)(be.c,{elements:n,onConnect:function(e){return a((function(t){return Object(be.b)(Object(j.a)(Object(j.a)({},e),{},{type:"smoothstep",animated:!0}),t)}))},onElementsRemove:function(e){return a((function(t){return Object(be.e)(e,t)}))},connectionLineType:"smoothstep",onClick:function(e){console.log(i[e.target.dataset.id]),f(i[e.target.dataset.id])}}),Object(S.jsxs)("div",{className:"controls",children:[Object(S.jsx)("button",{onClick:function(){return O("TB")},children:"vertical layout"}),Object(S.jsx)("button",{onClick:function(){return O("LR")},children:"horizontal layout"}),Object(S.jsx)("button",{onClick:function(){return O("LR")},children:"init Graph"})]})]})}),Object(S.jsx)("div",{className:"layout graph-right",style:{height:"100%"},children:Object(S.jsx)(M.a,{src:h})})]})};var ke=function(){return Object(S.jsxs)("div",{children:[Object(S.jsx)(de,{}),Object(S.jsx)(D.a,{children:Object(S.jsxs)(N.c,{children:[Object(S.jsx)(N.a,{path:"/",element:Object(S.jsx)(H,{})}),Object(S.jsx)(N.a,{path:"user",element:Object(S.jsx)(Q,{})}),Object(S.jsx)(N.a,{path:"search",element:Object(S.jsx)(te,{})}),Object(S.jsx)(N.a,{path:"graph",element:Object(S.jsx)(we,{})})]})})]})},Se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,396)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(S.jsx)(ke,{}),document.getElementById("root")),Se()},73:function(e,t,n){}},[[385,1,2]]]);
//# sourceMappingURL=main.25bf64b2.chunk.js.map